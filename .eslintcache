[{"/home/user/Documents/whatsapp clone/whatsapp/src/App.js":"1","/home/user/Documents/whatsapp clone/whatsapp/src/Sidebar.js":"2","/home/user/Documents/whatsapp clone/whatsapp/src/SidebarChat.js":"3","/home/user/Documents/whatsapp clone/whatsapp/src/reportWebVitals.js":"4","/home/user/Documents/whatsapp clone/whatsapp/src/Chat.js":"5","/home/user/Documents/whatsapp clone/whatsapp/src/index.js":"6","/home/user/Documents/whatsapp clone/whatsapp/src/firebase.js":"7","/home/user/Documents/whatsapp clone/whatsapp/src/Login.js":"8","/home/user/Documents/whatsapp clone/whatsapp/src/StateProvider.js":"9","/home/user/Documents/whatsapp clone/whatsapp/src/reducer.js":"10"},{"size":1164,"mtime":1609596429270,"results":"11","hashOfConfig":"12"},{"size":2073,"mtime":1609601130511,"results":"13","hashOfConfig":"14"},{"size":1389,"mtime":1609599155424,"results":"15","hashOfConfig":"12"},{"size":362,"mtime":1609215854764,"results":"16","hashOfConfig":"14"},{"size":3705,"mtime":1609600185462,"results":"17","hashOfConfig":"14"},{"size":689,"mtime":1609320046743,"results":"18","hashOfConfig":"12"},{"size":683,"mtime":1609317568963,"results":"19","hashOfConfig":"14"},{"size":1122,"mtime":1609597176373,"results":"20","hashOfConfig":"12"},{"size":393,"mtime":1609320214702,"results":"21","hashOfConfig":"14"},{"size":415,"mtime":1609599570740,"results":"22","hashOfConfig":"12"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"1ha0kv9",{"filePath":"25","messages":"26","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"1w42uyx",{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"34"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/user/Documents/whatsapp clone/whatsapp/src/App.js",["46","47"],"/home/user/Documents/whatsapp clone/whatsapp/src/Sidebar.js",["48"],"/home/user/Documents/whatsapp clone/whatsapp/src/SidebarChat.js",[],"/home/user/Documents/whatsapp clone/whatsapp/src/reportWebVitals.js",[],"/home/user/Documents/whatsapp clone/whatsapp/src/Chat.js",["49"],"import React, { useState, useEffect } from 'react';\nimport './Chat.css';\nimport { Avatar, IconButton } from '@material-ui/core';\nimport SearchOutlined from '@material-ui/icons/SearchOutlined';\nimport AttachFile from '@material-ui/icons/AttachFile';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport InsertEmotiIcon from '@material-ui/icons/InsertEmoticon';\nimport MicIcon from '@material-ui/icons/Mic';\nimport { useParams } from 'react-router-dom';\nimport db from './firebase';\nimport firebase from 'firebase';\nimport { useStateValue } from './StateProvider';\nfunction Chat() {\n  // track of messages from sender at input\n  //    random avatar  for every room\n  // const [seed, setSeed] = useState(' ');\n  //   roomid for each room topull data using react-router-dom\n  const [input, setInput] = useState('');\n\n  const { roomId } = useParams();\n  const [roomName, setRoomName] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [{ user }, dispatch] = useStateValue();\n\n  //when clicked on any room in sidebar  it shows messages with that room\n  useEffect(() => {\n    if (roomId) {\n      db.collection('rooms')\n        .doc(roomId)\n        .onSnapshot((snapshot) => setRoomName(snapshot.data().name));\n\n      db.collection('rooms')\n        .doc(roomId)\n        .collection('messages')\n        .orderBy('timestamp', 'asc')\n        .onSnapshot((snapshot) =>\n          setMessages(snapshot.docs.map((doc) => doc.data()))\n        );\n    }\n  }, [roomId]);\n\n  const sendMessage = (e) => {\n    e.preventDefault();\n    console.log('youtyped', input);\n    db.collection('rooms').doc(roomId).collection('messages').add({\n      message: input,\n      name: user.displayName,\n      timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n    });\n    setInput('');\n  };\n\n  // creating random avatars using seed state\n  return (\n    <div className=\"chat\">\n      <div className=\"chat__header\">\n        <Avatar\n          src={`https://avatars.dicebear.com/api/human/${Math.floor(\n            Math.random() * 5000\n          )}.svg`}\n        />\n        <div className=\"chat__headerInfo\">\n          <h3>{roomName}</h3>\n          <p>\n            Last Seen at{'  '}\n            {new Date(\n              messages[messages.length - 1]?.timestamp?.toDate()\n            ).toUTCString()}\n          </p>\n        </div>\n        <div className=\"chat__headerRight\">\n          <IconButton>\n            <SearchOutlined />\n          </IconButton>\n          <IconButton>\n            <AttachFile />\n          </IconButton>\n          <IconButton>\n            <MoreVertIcon />\n          </IconButton>\n        </div>\n      </div>\n      <div className=\"chat__body\">\n        {messages.map((message) => (\n          <p\n            className={`chat__message ${\n              message.name === user.displayName && 'chat__receiver'\n            }`}\n          >\n            <span className=\"chat__name\">{message.name}</span>\n            {message.message}\n            <span className=\"chat__timestamp\">\n              {new Date(\n                messages[messages.length - 1]?.timestamp?.toDate()\n              ).toUTCString()}\n            </span>\n          </p>\n        ))}\n        {/* true=if display.name===message.name  then change the bg-color to green*/}\n      </div>\n      <div className=\"chat__footer\">\n        <InsertEmotiIcon />\n        <form>\n          <input\n            value={input}\n            onChange={(e) => setInput(e.target.value)}\n            placeholder=\"Type a message\"\n            type=\"text\"\n          />\n          <button onClick={sendMessage} type=\"submit\">\n            Send a message\n          </button>\n        </form>\n        <MicIcon />\n      </div>\n    </div>\n  );\n}\n\nexport default Chat;\n",["50","51"],"/home/user/Documents/whatsapp clone/whatsapp/src/index.js",[],"/home/user/Documents/whatsapp clone/whatsapp/src/firebase.js",[],"/home/user/Documents/whatsapp clone/whatsapp/src/Login.js",["52"],"/home/user/Documents/whatsapp clone/whatsapp/src/StateProvider.js",[],["53","54"],"/home/user/Documents/whatsapp clone/whatsapp/src/reducer.js",[],{"ruleId":"55","severity":1,"message":"56","line":11,"column":20,"nodeType":"57","messageId":"58","endLine":11,"endColumn":31},{"ruleId":"55","severity":1,"message":"59","line":12,"column":20,"nodeType":"57","messageId":"58","endLine":12,"endColumn":28},{"ruleId":"55","severity":1,"message":"59","line":14,"column":20,"nodeType":"57","messageId":"58","endLine":14,"endColumn":28},{"ruleId":"55","severity":1,"message":"59","line":23,"column":20,"nodeType":"57","messageId":"58","endLine":23,"endColumn":28},{"ruleId":"60","replacedBy":"61"},{"ruleId":"62","replacedBy":"63"},{"ruleId":"64","severity":1,"message":"65","line":9,"column":10,"nodeType":"66","messageId":"67","endLine":9,"endColumn":12},{"ruleId":"60","replacedBy":"68"},{"ruleId":"62","replacedBy":"69"},"no-unused-vars","'setMessages' is assigned a value but never used.","Identifier","unusedVar","'dispatch' is assigned a value but never used.","no-native-reassign",["70"],"no-negated-in-lhs",["71"],"no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected",["70"],["71"],"no-global-assign","no-unsafe-negation"]